<Window x:Class="RestaurantSystem.UI.Views.OrderDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Order Details" Height="600" Width="900"
        Background="#1E1E1E"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    
    <Grid Margin="0">
        <!-- Header -->
        <Border Background="#673AB7" Height="80" VerticalAlignment="Top">
            <Grid Margin="24,0">
                <TextBlock x:Name="TitleText" Text="Order Details" FontSize="24" FontWeight="Bold" 
                         Foreground="White" VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Content -->
        <Grid Margin="0,80,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Order Items List -->
            <Border Grid.Column="0" Background="#2C2C2C" BorderBrush="#404040" BorderThickness="0,0,1,0" Margin="24">
                <StackPanel>
                    <TextBlock Text="Order Items" FontSize="18" FontWeight="SemiBold" 
                             Foreground="White" Margin="0,0,0,16"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                        <DataGrid x:Name="ItemsDataGrid" 
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              SelectionMode="Single"
                              Background="#2C2C2C"
                              GridLinesVisibility="All"
                              BorderBrush="#404040"
                              RowBackground="#2C2C2C"
                              AlternatingRowBackground="#333333">
                            
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Dish" Binding="{Binding DishName}" Width="*" IsReadOnly="True">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                
                                <DataGridTextColumn Header="Qty" Binding="{Binding Quantity}" Width="80" IsReadOnly="True">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                
                                <DataGridTextColumn Header="Price" Binding="{Binding UnitPrice, StringFormat=C}" Width="100" IsReadOnly="True">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                            <Setter Property="TextAlignment" Value="Right"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                
                                <DataGridTextColumn Header="Total" Binding="{Binding TotalPrice, StringFormat=C}" Width="100" IsReadOnly="True">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="#4CAF50"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                            <Setter Property="TextAlignment" Value="Right"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                
                                <DataGridTemplateColumn Header="Status" Width="120">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ComboBox SelectedItem="{Binding Status}" ItemsSource="{Binding}" Width="110"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                            
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#404040"/>
                                    <Setter Property="Foreground" Value="White"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="BorderBrush" Value="#555555"/>
                                    <Setter Property="Padding" Value="8,4"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                        </DataGrid>
                    </ScrollViewer>

                    <Button x:Name="AddItemButton" Content="➕ ADD ITEM" 
                          Click="AddItemButton_Click"
                          Background="#4CAF50" Foreground="White" Height="36" 
                          Margin="0,16,0,0" Cursor="Hand"/>
                </StackPanel>
            </Border>

            <!-- Order Info -->
            <Border Grid.Column="1" Background="#2C2C2C" BorderBrush="#404040" BorderThickness="0,0,0,0" Margin="0,24,24,24">
                <StackPanel Margin="24">
                    <TextBlock Text="Order Information" FontSize="18" FontWeight="SemiBold" 
                             Foreground="White" Margin="0,0,0,16"/>
                    
                    <TextBlock Text="Total Amount:" FontSize="14" Foreground="#999" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TotalAmountText" Text="$0.00" FontSize="24" FontWeight="Bold" 
                             Foreground="#4CAF50" Margin="0,0,0,16"/>
                    
                    <TextBlock Text="Status:" FontSize="14" Foreground="#999" Margin="0,0,0,4"/>
                    <TextBlock x:Name="StatusText" Text="New" FontSize="16" FontWeight="SemiBold" 
                             Foreground="#673AB7" Margin="0,0,0,16"/>
                    
                    <TextBlock Text="Table:" FontSize="14" Foreground="#999" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TableText" Text="-" FontSize="16" Foreground="White" Margin="0,0,0,16"/>
                    
                    <Separator Background="#404040" Margin="0,8,0,8"/>
                    
                    <TextBlock Text="Special Instructions:" FontSize="14" Foreground="#999" Margin="0,0,0,4"/>
                    <TextBlock x:Name="InstructionsText" Text="-" FontSize="14" Foreground="White" 
                             TextWrapping="Wrap" Margin="0,0,0,16"/>
                    
                    <Button x:Name="UpdateOrderButton" Content="UPDATE ORDER" 
                          Click="UpdateOrderButton_Click"
                          Background="#673AB7" Foreground="White" Height="40" 
                          Margin="0,16,0,8" Cursor="Hand"/>
                    
                    <Button x:Name="CompleteOrderButton" Content="COMPLETE ORDER" 
                          Click="CompleteOrderButton_Click"
                          Background="#4CAF50" Foreground="White" Height="40" 
                          Margin="0,0,0,8" Cursor="Hand"/>
                    
                    <Button x:Name="CancelOrderButton" Content="ОТМЕНИТЬ ЗАКАЗ" 
                          Click="CancelOrderButton_Click"
                          Background="#F44336" Foreground="White" Height="40" 
                          Cursor="Hand"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>

